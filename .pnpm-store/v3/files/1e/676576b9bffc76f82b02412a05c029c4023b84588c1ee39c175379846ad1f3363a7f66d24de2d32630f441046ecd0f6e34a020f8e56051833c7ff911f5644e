!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.tinydate=t()}(this,function(){var e=/([^{]*?)\w(?=\})/g,t={YYYY:"getFullYear",YY:"getYear",MM:function(e){return e.getMonth()+1},DD:"getDate",HH:"getHours",mm:"getMinutes",ss:"getSeconds",fff:"getMilliseconds"};return function(n,r){var u=[],o=0;return n.replace(e,function(e,i,f){u.push(n.substring(o,f-1)),o=f+=e.length+1,u.push(r&&r[e]||function(n){return("00"+("string"==typeof t[e]?n[t[e]]():t[e](n))).slice(-e.length)})}),o!==n.length&&u.push(n.substring(o)),function(e){for(var t="",n=0,r=e||new Date;n<u.length;n++)t+="string"==typeof u[n]?u[n]:u[n](r);return t}}});